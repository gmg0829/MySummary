## 可见性
volatile变量的每次修改都必须立即回写到主内存中，volatile变量的每次使用都必须从主内存刷新最新的值。
## 禁止重排序
volatile变量是禁止重排序的，它能保证程序实际运行是按代码顺序执行的。


### 实现：内存屏障

内存屏障有两个作用：
- （1）阻止屏障两侧的指令重排序；
- （2）强制把写缓冲区/高速缓存中的数据回写到主内存，让缓存中相应的数据失效；


volatile关键字只能保证可见性和有序性，不能保证原子性，要解决原子性的问题，还是只能通过加锁或使用原子类的方式解决。

